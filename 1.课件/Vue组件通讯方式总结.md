# Vue2组件通讯方式总结

## 1.props

```javascript
适用场景:父子之间
	它可以实现父传子,也可以实现子传父
	所谓的父子关系,就说明当前两个组件之间,一定有结构嵌套
		在一个组件的template中,一定能看到另一个组件的组件标签
		
父传子:
	1.父组件在子组件的标签上,添加标签属性,并将需要传递的数据写在属性值中
	2.子组件在自己的配置对象上,书写props规则,用于声明需要接收的标签属性以及对应的值
	
子传父:
	其实就是数据在子组件,父组件想要接收
	1.父组件还是通过子组件的标签,给子组件添加标签属性,属性值是一个接收数据的函数
	2.子组件在自己的配置对象中,添加props规则,接收父组件传下来的函数
	3.子组件调用接收到的函数,并向函数内部传入数据
		最终被函数的形参接收,父组件就可以使用该数据
		
	注意点:
		1.请问父组件接收数据的函数,一定要写在methods中吗?
		回答:必须写在methods中
			原因:因为写在methods中的函数,他们的this都会被强行修改为当前组件的实例对象
				如果不写在methods中,那么该函数的this就会随着使用者而发生变化
				
				原理:其实只要放在methods中的函数,Vue底层都会对它们使用bind来强行修改this指向
					顺便说一下,bind函数修改过的this指向,无法二次修改
		
 总结:
	父传子,父组件传的是真正的数据
	子传父,父组件传的是接收数据的函数
```

## 2.provide/inject

```
适用场景:祖孙之间

	基础流程:
		1.在祖先组件的配置对象中,添加provide配置属性,属性值可以是对象||函数
			将需要暴露的数据写在内部
		2.在后代组件的配置对象中,添加inject配置属性,属性值是Array<string>
			内部的字符串代表着需要接收的数据名称,与流程1中的属性名对应
			
	注意:如果provide暴露的数据,想要是data中的某个数据,那么就只能使用函数写法
		原因:provide函数,会在data函数执行之后才会执行,此时当前组件的this就已经创建了
```

